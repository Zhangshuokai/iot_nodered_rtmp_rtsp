# 准望物联监测平台
## 平台基于nextjs框架，是一个开箱即用的物联网平台，它可以帮助您快速实现物联网的数据收集、分析处理、可视化和设备管理，支持通过行业标准物联网协议（MQTT、TCP、UDP、CoAP和 HTTP）实现设备连接，通过rtsp、rtmp实现摄像头视频流接入，帮助您屏蔽物联网的复杂特性，让您专注业务应用开发，缩短物联网项目的交付周期。
## 准望物联监测平台可提供跨不同设备和数据源的通用PaaS服务，在整个物联网架构中起到承上启下的中介作用，联动感知层及应用层之间的所有交互——向下连接、管理物联网设备端并完成感知数据的归集与存储，向上为应用开发商与系统集成商提供应用开发的统一数据接口及共性模块工具。在实现“物联”的基础之上，感知层与应用层频繁交互过程中，产生的数据具有体量大、种类多、动态滚动的特征，ThingsKit物联网平台作为产业链中的核心枢纽，更是应用融合以及数据价值孵化的土壤，除提供基础设施服务支撑设备间的数据交换外，通过对平台数据的处理、分析和可视化，将数据赋能过程大幅前置，充分发挥规模效应，实现数据即生产即处理，便于数据快速应用落地，简化物联网解决方案的复杂度并降低方案成本，充当“加速层”，推进各层在应用场景的落地速度与进程。
## 系统版块划分
### 1. 可视化大屏
    当前功能：用于配合显示其他版块内容
    下一版本功能（仅预留拓展，不在本版本制作范围）：数据源管理功能、可视化大屏页面编辑功能、可视化大屏页面展示权限设置功能
### 2. 设备管理
    当前功能：
        1. 设备类管理：提供设备连接模板的配置功能，支持对设备类型、通信协议、参数等进行标准化定义，实现新设备快速接入和统一管理
            设备类图片：设备类的示例图片
            设备类产品名称：设备类对应便于记忆的名称
            设备类产品品类：分为系统预设类型和自定义类型，系统预设类型包含常见的设备品类，自定义类型可由用户根据实际需求自行添加
            设备类型：分为直连设备和网关下属的子设备
            设备类配置类型：分为默认和自定义
            设备类接入协议：分为MQTT、TCP、UDP、CoAP和 HTTP
            设备类默认配置：显示是否为该设备类的默认设置
            设备类描述：便于使用者记忆的文字描述
            设备类创建时间：系统自动生成的时间
            设备类操作：包括查看、编辑详细设置，删除本条设备类，设置当前条目是否为默认值
        2. 设备管理：用于查看、检索设备状态，查看上下线记录，设置重点关注
            设备状态：在线、离线
            设备图片：当前设备图片
            别名/设备名称：设备本身的sn码，与设备的别名
            设备类型：显示当前设备是直连设备、网关设备还是网关下属的子设备
            所属产品：对应设备类管理中的设备类产品名称
            所属组织：指设备所属的组织
            公开：指是否可以被非所属组织看到
            最后连接时间
            最后断开时间
            操作：查看上下线记录，设置重点关注，查看、编辑详细设置
                - 检索、查看以下告警事项：告警状态、告警设备、告警场景、告警级别、告警详情、确认状态、告警时间、操作
                - 检索、查看以下命令下发内容：任务相关的命令下发时间、命令类型、响应类型、命令状态、响应内容、命令内容
                - 检索、查看以下事件管理：任务相关的时间、标识符、事件名称、事件类型、输出参数
                - 检索、查看以下任务内容：关联的任务列表
### 3. 规则引擎
    当前功能：
        1. 场景联动：通过配置触发条件、执行动作和执行条件，实现设备与设备之间、设备与应用之间的联动。例如当温度传感器检测到温度超过阈值时，自动开启空调降温；当光照传感器检测到光照不足时，自动开启照明设备等。场景联动可以让设备之间形成智能联动，提升自动化水平，减少人工干预。
            场景联动名称：自定义的场景名称
            触发方式：设备触发、属性触发
            状态：启用与否
            描述：便于使用者理解的说明性文字
            所属组织：指规则所属的组织
            公开：指是否可以被非所属组织看到
            创建者
            创建时间
            操作：查看、编辑详细信息，编辑、新建触发器，编辑触发条件
    下一版本功能,仅预留拓展，不在本版本制作范围：
        2. 数据流转(下一版本功能,仅预留拓展，不在本版本制作范围)：用于配置数据流转规则，实现设备数据的实时处理、转换和分发。支持将设备上报的数据经过过滤、转换等处理后转发到其他系统或服务，如数据库、消息队列、第三方应用等。可用于数据备份、数据分析、多系统数据共享等场景。数据流转能力让平台成为物联网数据的中枢，实现数据的高效流通和价值最大化:
            数据流转名称：自定义的数据流转规则名称
            规则链：数据流转的处理流程，包含多个处理节点，如数据过滤、数据转换、数据存储等
            途径：数据流转的目标系统，如数据库、消息队列、第三方系统等
            状态：启用或禁用
            描述：便于使用者理解的说明性文字
            创建时间：系统自动生成的时间
            操作：查看、编辑详细信息，编辑规则链，启用/禁用规则
        3. 脚本管理(下一版本功能,仅预留拓展，不在本版本制作范围)：用于管理和维护平台中的自定义脚本，支持JavaScript语言编写的数据处理、设备控制和业务逻辑脚本。通过脚本管理功能，可以实现复杂的数据转换、设备控制逻辑和业务流程自动化，提高平台的灵活性和可扩展性。脚本可以被规则引擎调用，用于实现更复杂的场景联动和数据处理逻辑:
            脚本名称：自定义的脚本名称，用于标识和区分不同的脚本
            脚本状态：启用或禁用状态，控制脚本是否生效
            脚本内容：具体的脚本代码，支持JavaScript脚本语言
            脚本类型：分为数据处理脚本、设备控制脚本、业务逻辑脚本等不同类型
            备注：便于使用者理解的说明性文字，可记录脚本用途、注意事项等
            创建时间：系统自动生成的脚本创建时间
            操作：打开测试脚本功能页面，调试脚本，发送消息，配置发送数据格式，查看反馈信息
### 4. 任务中心
    当前功能：
        1. 任务展示与编辑
            - 筛选、搜索、查看任务列表
            - 查看任务详情
                任务名称：用于标识任务的名称，如"645协议无功功率"
                目标类型：指定任务执行的对象类型，如设备、网关、网关下属设备等
                任务状态：显示当前任务的启停状态，如已启用、已停用
                任务类型：任务的类型分类，如自定义数据下发、属性设置
                定时方式：任务执行的时间设置，如单次执行、间隔时间重复、指定时间执行、Cron表达式等
                执行参数：根据定时方式不同而变化，间隔时间、执行日期时间、Cron表达式等
                命令内容：需要下发的具体指令或数据内容
                所属组织：指任务所属的组织
                公开：指是否可以被非所属组织看到
                创建时间：任务创建的时间
                修改时间：任务最后一次修改的时间
            - 编辑任务详情
                任务名称：用于标识任务的名称，如"645协议无功功率"
                目标类型：指定任务执行的对象类型，如设备、网关、网关下属设备等
                任务状态：显示当前任务的启停状态，如已启用、已停用
                任务类型：任务的类型分类，如自定义数据下发、属性设置
                定时方式：任务执行的时间设置，如单次执行、间隔时间重复、指定时间执行、Cron表达式等
                执行参数：根据定时方式不同而变化，间隔时间、执行日期时间、Cron表达式等
                命令内容：需要下发的具体指令或数据内容
                所属组织：指任务所属的组织
                公开：指是否可以被非所属组织看到
                创建时间：任务创建的时间
                修改时间：任务最后一次修改的时间
### 5. 报表中心
    当前功能：
        1. 报表配置：用于创建和管理数据报表的配置信息，支持用户自定义报表内容、数据来源、生成周期等参数，实现对设备数据的统计分析和可视化展示。通过报表配置功能，用户可以根据业务需求灵活定制各类报表，便于数据分析和决策支持：
            - 筛选、搜索、查看、批量下载报表配置列表
                配置名称：报表配置的名字
                所属组织：指报表配置所属的组织单位
                数据类型：报表数据的类型，如原始数据、转换后数据
                配置状态：报表配置的当前状态，如已启用、已停用
                执行方式：报表生成的方式，如定时执行、立即执行
                执行设备：报表数据来源的设备范围，点击后查看具体包含的设备列表
                创建人：创建此报表配置的用户账号
                创建时间：报表配置的创建日期和时间
                操作：编辑具体的配置内容
                    报表名称
                    所属组织
                    描述
                    执行方式
                        立即执行(执行时间、执行设备(多选))或定时执行(执行周期、执行时间、执行设备(多选))
                        数据类型
                        聚合条件
                        最大条数
        2. 报表导出用于查看、展示、导出按报表配置生成的报表
            - 筛选、搜索、查看、批量下载报表列表
                配置名称：对应报表配置中选定的名称，用于识别不同的报表
                组织：对应报表配置中选定的所属的组织
                数据类型：报表数据的类型，对应报表配置中选定的原始数据、转换后数据、聚合数据
                执行方式：报表的执行方式，对应报表配置中选定的定时执行、立即执行
                执行状态：报表执行的当前状态，成功、失败
                执行日期：报表最近一次执行的日期和时间
                操作：对报表的可执行操作，如查看详情、下载报表
### 6. 视频中心
    当前功能：
        1.视频配置：
            - 分屏模式：以单屏幕、四宫格、九宫格切换的模式，展示当前已配置的rtsp视频流的视频
            - 列表模式：筛选、搜索、查看配置的rtsp视频流
                视频封面：显示视频流的缩略图或静态封面图像，便于快速识别
                视频名字：用户自定义的视频监控点名称，如"工厂大门"、"生产线A区"等
                摄像头编号 / 监控点编号：系统分配的唯一标识符，用于技术管理和定位
                视频流：RTSP视频流地址，格式如"rtsp://username:password@ip:port/stream"
                所属组织：指该视频监控点归属的组织单位
                视频流获取方式：获取视频的技术方式，如RTSP直连、NVR接入、GB28181协议等
                创建时间：该视频配置在系统中创建的日期和时间
                操作：
                    - 查看视频预览：打开视频流实时预览窗口
                    - 编辑配置：修改以上所有信息
                    - 删除：从系统中移除该视频配置
                    - 启用/停用：控制视频流的接入状态
### 7. 系统管理
    当前功能：
        1. 平台定制：用于配置系统的品牌标识和外观，包括系统名称、Logo、主题色等，同时支持配置公司相关信息，使系统界面符合企业形象。具体配置项包括：
            - 公司信息：配置以下网站外观信息
                公司名称：用于显示在系统界面和报表中的完整企业名称，如"北京科技有限公司"
                公司简称：用于空间有限区域显示的简短名称，如"北科"
                公司官网：企业官方网站URL地址，如"https://www.example.com"
                公司邮箱：企业对外联系的官方邮箱，如"contact@example.com"
                公司简介：简要描述企业的业务范围、愿景和使命（限200字）
                国家/地区：企业注册或主要经营所在的国家或地区，如"中国"
                所在城市：企业总部或主要办公地点所在城市，如"北京市"
                详细地址：企业办公地点的完整街道地址，如"朝阳区科技园路88号"
                联系人：系统管理员或技术支持人员姓名，如"张三"
                联系电话：企业客服或技术支持电话号码，如"010-12345678"
                联系我们：企业客户服务或技术支持的其他联系方式，如微信公众号、服务热线等
        2. 组织管理：用于创建和管理系统中的组织架构，支持多级组织结构，便于权限分配和资源管理。
            - 筛选、搜索、查看、添加、编辑组织信息
                组织名称：组织的全称，如"研发部"、"生产中心"、"北京分公司"等
                级别：组织在整体架构中的层级，如"总部"、"一级部门"、"二级部门"等
                上级组织：该组织所属的上一级组织名称，顶级组织为空
                组织编码：组织的唯一标识符，用于系统内部管理
                创建时间：该组织在系统中创建的日期和时间
                备注：关于该组织的补充说明或特殊信息
                操作：
                    - 查看详情：显示组织的完整信息和下属组织
                    - 编辑：修改组织信息
                    - 删除：移除该组织（需确认是否有下属组织或关联用户）
                    - 添加子组织：在该组织下创建新的下级组织